(this["webpackJsonpquiz-react"]=this["webpackJsonpquiz-react"]||[]).push([[0],{21:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(34),i=n.n(r),c=n(12),l=(n(21),n(4)),u=n(5),o=n(7),d=n(6),h=n(2),j=n(0),b=function(e){return Object(j.jsx)("div",{className:"cover",onClick:e.onClickClose})},p=[{path:"/",name:"\u0421\u043f\u0438\u0441\u043e\u043a",exact:!0},{path:"/auth",name:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",exact:!1},{path:"/quiz-creator",name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",exact:!1}],m=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={hidden:!0},e.toggleSideBar=function(){e.setState({hidden:!e.state.hidden})},e.closeSideBar=function(){e.setState({hidden:!0})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsxs)(j.Fragment,{children:[this.state.hidden?null:Object(j.jsx)(b,{onClickClose:this.closeSideBar}),Object(j.jsxs)("nav",{className:"side-bar ".concat(this.state.hidden?"side-bar_hidden":"side-bar_visible"),children:[Object(j.jsx)("button",{type:"button",className:"side-bar__button ",onClick:this.toggleSideBar,children:this.state.hidden?Object(j.jsx)("i",{className:"fas fa-bars"}):Object(j.jsx)("i",{className:"fas fa-times"})}),Object(j.jsx)("ul",{className:"side-bar__list",children:p.map((function(t,n){return Object(j.jsx)("li",{className:"side-bar__item",children:Object(j.jsxs)(c.c,{to:t.path,exact:t.exact,className:"side-bar__link",onClick:e.closeSideBar,children:[" ",t.name," "]})},n)}))})]})]})}}]),n}(s.Component),v=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"page",children:[Object(j.jsx)("header",{}),Object(j.jsxs)("main",{className:"main",children:[Object(j.jsx)(m,{}),this.props.children]}),Object(j.jsx)("footer",{})]})}}]),n}(s.Component),f=n(14),O=n.n(f),x=n(17),g=function(e){var t="",n=!1,s="";switch(e.index){case 0:s="A";break;case 1:s="B";break;case 2:s="C";break;case 3:s="D"}return e.answerState&&(console.log(e),e.index!==e.answerId&&(n="disabled"),t="success"===e.answerState?"success disabled":"failure disabled"),Object(j.jsx)("li",{children:Object(j.jsx)("button",{type:"button",disabled:n,className:"quiz__answers-item ".concat(n?"disabled":""," ").concat(e.index===e.answerId?t:""),onClick:function(){return e.onAnswerClick(e.index+1)},children:"".concat(s,". ").concat(e.answer)})})},w=function(e){return Object(j.jsx)("ul",{className:"quiz__answers",children:e.answers.map((function(t,n){var s=Object.keys(t)[0];return Object(j.jsx)(g,{answer:t[s],index:n,onAnswerClick:e.onAnswerClick,answerState:e.answerState,rightAnswerId:e.rightAnswerId,answerId:e.answerId},n)}))})},_=function(e){return Object(j.jsxs)("div",{className:"quiz__container",children:[Object(j.jsxs)("div",{className:"quiz__header",children:[Object(j.jsxs)("p",{children:[Object(j.jsxs)("strong",{children:[e.currentQuestion,".\xa0"]})," ",e.question,"?"]}),Object(j.jsxs)("strong",{children:[e.currentQuestion," \u0438\u0437 ",e.questionsLength]})]}),Object(j.jsx)(w,{answers:e.answers,onAnswerClick:e.onAnswerClick,answerState:e.answerState,rightAnswerId:e.rightAnswerId,answerId:e.answerId})]})},C=function(e){var t=(e.result/e.ammount*100).toPrecision(3);return Object(j.jsxs)("section",{className:"quiz__container",children:[Object(j.jsx)("h3",{children:t>50?"\u041e\u0442\u043b\u0438\u0447\u043d\u043e!!! ".concat(t,"% - \u0442\u044b \u0437\u043d\u0430\u0435\u0448\u044c \u0431\u043e\u043b\u044c\u0448\u0443\u044e \u0447\u0430\u0441\u0442\u044c!!!"):"\u0421\u043b\u0430\u0431\u043e\u0432\u0430\u0442\u043e... \u0412\u0441\u0435\u0433\u043e ".concat(t,"% \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u0448\u044c \u0435\u0449\u0451 \u0440\u0430\u0437\u043e\u043a?")}),Object(j.jsxs)("p",{children:["\u0422\u0432\u043e\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 ",e.result," \u0438\u0437 ",e.ammount]}),Object(j.jsxs)("div",{className:"quiz__buttons",children:[Object(j.jsx)(c.b,{to:"/",className:"quiz__button-link",children:Object(j.jsx)("button",{className:"quiz__button",type:"button",children:" \u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432"})}),Object(j.jsx)("button",{className:"quiz__button",type:"button",onClick:e.playAgain,children:"\u0415\u0449\u0451 \u0440\u0430\u0437\u043e\u043a ?"})]})]})},y=n(18),q=n.n(y),k=q.a.create({baseURL:"https://programers-quiz-default-rtdb.firebaseio.com/"}),S=function(e){return Object(j.jsxs)("div",{className:"loader",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})},I=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={currentQuestion:0,quiz:[],rightAnswers:0,answerState:null,answerId:null,isFinished:!1,isLoading:!0},e.onAnswerClickHandler=function(t){if(!e.state.answerState){e.setState({answerState:""});var n=e.state.quiz[e.state.currentQuestion];e.setState({answerId:t-1}),+n.rightAnswer===+t?(e.setState({rightAnswers:e.state.rightAnswers+1}),e.setState({answerState:"success"})):e.setState({answerState:"failure"}),e.isLastQuestion()?setTimeout((function(){e.setState({isFinished:!0})}),1e3):setTimeout((function(){e.setState({answerState:null}),e.setState({currentQuestion:e.state.currentQuestion+1}),clearTimeout()}),1e3)}},e.isLastQuestion=function(){return e.state.currentQuestion+1===e.state.quiz.length},e.playAgainHandler=function(){e.setState({currentQuestion:0,quiz:e.state.quiz,rightAnswers:0,answerState:null,answerId:null,isFinished:!1})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(x.a)(O.a.mark((function e(){var t=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("quizes/".concat(this.props.match.params.id,".json")).then((function(e){t.setState({quiz:e.data})})).finally((function(){return t.setState({isLoading:!1})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(j.jsxs)("section",{className:" section quiz",children:[Object(j.jsx)("h1",{className:"section__header quiz__title",children:"Quiz for programmer"}),this.state.isLoading?Object(j.jsx)(S,{}):this.state.isFinished?Object(j.jsx)(C,{result:this.state.rightAnswers,ammount:this.state.quiz.length,playAgain:this.playAgainHandler}):Object(j.jsx)(_,{answers:this.state.quiz[this.state.currentQuestion].answers,question:this.state.quiz[this.state.currentQuestion].question,currentQuestion:this.state.currentQuestion+1,questionsLength:this.state.quiz.length,onAnswerClick:this.onAnswerClickHandler,answerState:this.state.answerState,rightAnswerId:this.state.quiz[this.state.currentQuestion].rightAnswer,answerId:this.state.answerId})]})}}]),n}(s.Component),N=n(13),z=function(e){var t=(e.type||"text")+"-"+Math.random();return Object(j.jsxs)("div",{className:"input",children:[Object(j.jsx)("label",{htmlFor:t,className:"input__label ".concat(e.labelClass?e.labelClass:""),children:e.label}),Object(j.jsx)("input",{type:e.type||"text",className:"input__input ".concat(e.inputClass?e.inputClass:""),id:t,placeholder:e.placeholder,value:e.value,onChange:e.onChange}),Object(j.jsx)("span",{className:"input__error ".concat(e.errorClass?e.errorClass:""),children:e.errorMessage||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435."})]})},A=n(36),Q=n.n(A),F=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={isFormValid:!1,formInputs:e.inputsState()},e.renderInputs=function(){return Object.keys(e.state.formInputs).map((function(t,n){var s=e.state.formInputs[t];return Object(j.jsx)(z,{onChange:function(n){return e.onChangeInput(n,t)},type:s.type,value:s.value,label:s.label,labelClass:s.labelClass,inputClass:s.inputClass,placeholder:s.placeholder,errorClass:!s.touched||s.valid?s.errorClass:null,errorMessage:s.errorMessage,shouldValidate:!!s.validation,valid:s.valid,touched:s.touched},n)}))},e.signInHandler=function(){var t=Object(x.a)(O.a.mark((function t(n){var s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),s={email:e.state.formInputs.email.value,password:e.state.formInputs.password.value,returnSecureToken:!0},t.prev=2,t.next=5,q.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCX-4nnT3LMJNRwYn8wv_HfddQy5K-WQ7g",s).then((function(e){return console.log(e.data)})).finally((function(){e.setState({formInputs:e.inputsState()})}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),e.signUpHandler=Object(x.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={email:e.state.formInputs.email.value,password:e.state.formInputs.password.value,returnSecureToken:!0},t.prev=1,t.next=4,q.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCX-4nnT3LMJNRwYn8wv_HfddQy5K-WQ7g",n).then((function(e){return console.log(e.data)})).finally((function(){e.setState({formInputs:e.inputsState()})}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])}))),e.onChangeInput=function(t,n){var s=Object(N.a)({},e.state.formInputs),a=Object(N.a)({},s[n]);a.value=t.target.value,a.touched=!0,a.valid=e.validateInput(a.value,a.validation),s[n]=a;var r=!0;Object.keys(s).some((function(e){return!s[e].valid}))&&(r=!1),e.setState({formInputs:s,isFormValid:r})},e}return Object(u.a)(n,[{key:"inputsState",value:function(){return{email:{type:"text",value:"",label:"Em@il",labelClass:"",inputClass:"auth__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 em@il",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 em@il",errorClass:"hidden",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{type:"password",value:"",label:"Password",labelClass:"",inputClass:"auth__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",errorClass:"hidden",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}}},{key:"validateInput",value:function(e,t){var n=!0;return!t||(t.required&&(n=""!==e.trim()&&n),t.email&&(n=Q.a.email(e)&&n),t.minLength&&(n=e.trim().length>=t.minLength&&n),n)}},{key:"render",value:function(){return Object(j.jsxs)("section",{className:"section section_type_auth",children:[Object(j.jsx)("h1",{className:"section__header section__header_type_auth",children:" \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(j.jsx)("div",{className:"auth",children:Object(j.jsxs)("form",{onSubmit:this.signInHandler,className:"auth__form",children:[this.renderInputs(),Object(j.jsx)("button",{className:"auth__button",disabled:!this.state.isFormValid,children:"\u0412\u0445\u043e\u0434"}),Object(j.jsx)("button",{className:"auth__button",disabled:!this.state.isFormValid,onClick:this.signUpHandler,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})})]})}}]),n}(s.Component),L=function(e){var t="".concat(e.label,"-").concat(Math.random);return Object(j.jsxs)("div",{className:"select",children:[Object(j.jsx)("label",{className:"select__label",htmlFor:t,children:e.label}),Object(j.jsx)("select",{className:"select__select",id:t,value:e.value,onChange:e.onChange,children:e.options.map((function(e,t){return Object(j.jsx)("option",{value:e.value,children:e.text},t)}))})]})},H=function(e,t){return Object(N.a)(Object(N.a)({},e),{},{value:"",validation:t,valid:!t,touched:!1})},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!0;return!t||(t.required&&(n=""!==e.trim()&&n),n)},V=function(e){return!Object.keys(e).some((function(t){return!0!==e[t].valid}))};function T(e){return H({label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442 \u2116 ".concat(e),errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043e\u0442\u0432\u0435\u0442",inputClass:"input__input",errorClass:"hidden",id:e},{required:!0})}function B(){return{question:H({label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0432\u043e\u043f\u0440\u043e\u0441",errorClass:"hidden"},{required:!0}),answer1:T(1),answer2:T(2),answer3:T(3),answer4:T(4)}}var D=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={questions:[],rightAnswer:1,formInputs:B(),isFormValid:!1},e.addQuestionHandler=function(t){t.preventDefault();var n=e.state.questions.concat(),s=e.state.formInputs,a=s.answer1,r=s.answer2,i=s.answer3,c=s.answer4,l={question:s.question.value,id:e.state.questions.length,rightAnswer:e.state.rightAnswer,answers:[{answer1:a.value},{answer2:r.value},{answer3:i.value},{answer4:c.value}]};n.push(l),e.setState({questions:n,formInputs:B(),isFormValid:!1})},e.createQuizHandler=function(t){t.preventDefault();try{k.post("quizes.json",e.state.questions).then((function(e){return console.log(e)})).finally((function(){return e.setState({questions:[],rightAnswer:1,formInputs:B(),isFormValid:!1})}))}catch(n){console.log(n)}},e.inputChangeHandler=function(t,n){var s=Object(N.a)({},e.state.formInputs),a=s[n];a.touched=!0,a.value=t,a.valid=M(a.value,a.validation);var r=V(s);s[n]=a,e.setState({formInputs:s,isFormValid:r})},e.renderInputs=function(){return Object.keys(e.state.formInputs).map((function(t,n){var s=e.state.formInputs[t];return Object(j.jsxs)(a.a.Fragment,{children:[Object(j.jsx)(z,{onChange:function(n){return e.inputChangeHandler(n.target.value,t)},label:s.label,value:s.value,valid:s.valid,shouldValidate:!!s.validation,touched:s.touched,errorMessage:s.errorMessage,inputClass:s.inputClass,errorClass:!s.touched||s.valid?s.errorClass:null}),0===n?Object(j.jsx)("hr",{}):null]},n)}))},e.selectChangeHandler=function(t){e.setState({rightAnswer:t.target.value})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=Object(j.jsx)(L,{value:this.rightAnswer,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",onChange:this.selectChangeHandler,options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]});return Object(j.jsxs)("section",{className:"section section_type_create",children:[Object(j.jsx)("h1",{className:"section__header section__header_type_create",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430"}),Object(j.jsx)("div",{className:"create",children:Object(j.jsxs)("form",{className:"create__form",children:[this.renderInputs(),e,Object(j.jsx)("button",{className:"create__button",onClick:this.addQuestionHandler,disabled:!this.state.isFormValid,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(j.jsx)("button",{className:"create__button",onClick:this.createQuizHandler,disabled:!this.state.questions.length,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"})]})})]})}}]),n}(s.Component),P=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={quizes:[],isLoading:!0},e}return Object(u.a)(n,[{key:"renderList",value:function(){return this.state.quizes.map((function(e,t){return Object(j.jsx)("li",{className:"quiz-list__item",children:Object(j.jsx)(c.c,{to:"/quiz/"+e.id,className:"quiz-list__link",children:e.name},t)},t)}))}},{key:"componentDidMount",value:function(){var e=this;try{var t=[];k.get("quizes.json").then((function(n){Object.keys(n.data).map((function(e,n){var s={name:"Test ".concat(n+1),id:e};return t.push(s),t})),e.setState({quizes:t})})).finally((function(){return e.setState({isLoading:!1})}))}catch(n){console.log(n)}}},{key:"render",value:function(){return Object(j.jsxs)("section",{className:"section section_type_quiz-list",children:[Object(j.jsx)("h1",{className:"section__header section__header_type_quiz-list",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432"}),this.state.isLoading?Object(j.jsx)(S,{}):Object(j.jsx)("div",{className:"quiz-list",children:Object(j.jsx)("ul",{className:"quiz-list__list",children:this.renderList()})})]})}}]),n}(s.Component),J=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(j.jsx)(v,{className:"layout",children:Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{path:"/auth",component:F}),Object(j.jsx)(h.a,{path:"/quiz-creator",component:D}),Object(j.jsx)(h.a,{path:"/quiz/:id",component:I}),Object(j.jsx)(h.a,{path:"/",component:P})]})})}}]),n}(s.Component),U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))},R=Object(j.jsx)(c.a,{children:Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(J,{})})});i.a.render(R,document.getElementById("root")),U()}},[[65,1,2]]]);
//# sourceMappingURL=main.8ce1b829.chunk.js.map